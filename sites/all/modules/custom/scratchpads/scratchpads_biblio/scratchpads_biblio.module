<?php

/**
 * Implements hook_form_FORM_ID_alter.
 */
function scratchpads_biblio_form_node_form_alter(&$form, &$form_state, $form_id){
  if($form_id == 'biblio_node_form' && arg(2) == 'clone'){
    $form_state['biblio_type'] = 'set biblio type so that we can save!';
  }
}

/**
 * Implements hook_module_implements_alter.
 */
function scratchpads_biblio_module_implements_alter(&$implementations, $hook){
  if($hook == 'form_alter' && isset($implementations['scratchpads_biblio'])){
    $new_implementations = array();
    $new_implementations['scratchpads_biblio'] = $implementations['scratchpads_biblio'];
    unset($implementations['scratchpads_biblio']);
    foreach($implementations as $key => $value){
      $new_implementations[$key] = $value;
    }
    $implementations = $new_implementations;
  }
}

/**
 * Implements hook_menu_alter().
 */
function scratchpads_biblio_menu_alter(&$items){
  $items['admin/config/content/biblio'] = $items['admin/config/content/biblio/iomap'];
  $items['admin/config/content/biblio']['title'] = 'Biblio settings';
  $items['admin/config/content/biblio']['type'] = MENU_NORMAL_ITEM;
  $items['admin/config/content/biblio/iomap'] = array(
    'title' => 'Import/Export Mapping',
    'type' => MENU_DEFAULT_LOCAL_TASK
  );
}