(function(a){Drupal.GM3.field_point=function(b){b.children.point.event=function(h,e,g){switch(this.GM3.active_class){case"point":switch(h){case"click":this.add_marker(e.latLng,true);this.update_field();break;case"rightclick":switch(g.getClass()){case"Map":this.GM3.set_active_class("default");break;case"Marker":for(var d=0;d<this.points.length;d++){if(this.points[d].position.equals(g.position)){this.clusterer.removeMarker(this.points[d],true);this.points[d].setMap(null);this.points[d]=undefined}}var f=new Array();var c=0;for(var d=0;d<this.points.length;d++){if(this.points[d]!=undefined){f[c]=this.points[d];c++}}this.points=f;this.update_field();break}break}break}}};Drupal.GM3.point.prototype.update_field=function(){var c="";for(var b=0;b<this.points.length;b++){if(b>0){c+="|"}c+=this.points[b].position.toString()}a("."+this.GM3.id+"-point").val(c)}})(jQuery);