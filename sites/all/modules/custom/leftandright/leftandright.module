<?php

/**
 * Implementation of hook_menu
 */
function leftandright_menu(){
  return array(
    'admin/structure/taxonomy/%taxonomy_vocabulary_machine_name/rebuild' => array(
      'title' => 'Rebuild',
      'page callback' => 'drupal_get_form',
      'page arguments' => array(
        'leftandright_rebuild_tree_form',
        3
      ),
      'access arguments' => array(
        'administer taxonomy'
      ),
      'type' => MENU_LOCAL_TASK,
      'weight' => -10,
      'file' => 'leftandright.admin.inc'
    )
  );
}

/**
 * Implementation of hook_taxonomy_term_load
 */
function leftandright_taxonomy_term_load($terms){
  module_load_include('functions.inc', 'leftandright');
  leftandright_load($terms);
}

/**
 * Implementations of hook_taxonomy_term_insert
 */
function leftandright_taxonomy_term_insert($term){
  module_load_include('functions.inc', 'leftandright');
  leftandright_insert($term);
}

/**
 * Implementations of hook_taxonomy_term_update
 */
function leftandright_taxonomy_term_update($term){
  // Note, we can't just call delete then update, as that doesn't work with
  // branches.
  module_load_include('functions.inc', 'leftandright');
  leftandright_insert($term);
}

/**
 * Implementations of hook_taxonomy_term_delete
 */
function leftandright_taxonomy_term_delete($term){
  module_load_include('functions.inc', 'leftandright');
  leftandright_delete($term);
}